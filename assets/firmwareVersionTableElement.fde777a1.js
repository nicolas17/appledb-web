import{_ as D,r as S,o as n,c as s,b as t,a2 as _,t as r,m as d,F as w,E as g,n as m,a as k,w as b,d as y,$ as x,a0 as O}from"./app.ec0ba191.js";const p={props:{fw:Object,options:Object,showSingleDownloads:Boolean,showDots:Boolean},data(){return{expanded:!1,showDownloadDropdown:!1,signed:"unknown",fwData:[],tags:[]}},mounted(){const o=this.fw.devices.filter(i=>this.shouldSigningStatusBeChecked(i,this.fw.osStr));o.length&&!this.fw.rc&&this.getSigningStatus(this.fw.build,o[0],this.fw.osStr,this.fw.beta||this.fw.rc,this.fw.uniqueBuild),this.tags=[].filter(i=>i.val)},async created(){},methods:{async getSigningStatus(o,i,e,v){var a=new XMLHttpRequest;a.open("GET",`https://api.ipsw.me/v4/ipsw/${i}/${o}`),a.setRequestHeader("Accept","application/json"),a.onreadystatechange=function(){if(this.readyState===4&&this.status==200){let f=JSON.parse(this.responseText);var h=document.getElementById(`signing-status-${e}-${o}`),u=document.getElementById(`signing-text-${e}-${o}`);if(v)if(f=f.filter(l=>l.buildid==o),f.length)f=f[0];else return;f.signed?(h.classList.add("fa-check"),u.innerHTML="Signed"):(h.classList.add("fa-times"),u.innerHTML="Not signed")}},a.send()},shouldSigningStatusBeChecked(o,i){return["bridgeOS","iOS","iPadOS","macOS","audioOS","tvOS","watchOS","Apple TV Software","iPhoneOS"].includes(i)&&!["iPhone1,1","iPhone1,2","iPod1,1"].includes(o)},openDownloadDropdown(){var o=document.getElementsByClassName("downloadDropdown active");for(let i of o)i.classList.remove("active");this.expanded=!this.expanded,this.showDownloadDropdown=!this.showDownloadDropdown},getFwData(){let o=`/pageData/firmware/${[this.fw.osStr,this.fw.uniqueBuild].join(";")}.json`.replace(/\.html/g,"");return fetch(o,{method:"GET",headers:{"Content-Type":"application/json"}}).then(i=>i.text()).then(i=>JSON.parse(i))}}},c=o=>(x("data-v-7ddc61e2"),o=o(),O(),o),B={key:0,style:{"font-weight":"600"}},C=c(()=>t("i",{style:{"margin-inline":"8px","font-size":".3em"},class:"fas fa-circle"},null,-1)),I={style:{"padding-inline":"0",background:"none","font-size":"0.95em"}},T={key:2,class:"fas fa-box-open",style:{"padding-left":"8px"}},V=c(()=>t("div",{style:{"padding-inline":".25em",display:"inline-block"}},null,-1)),N={key:4,class:"releaseBetaInternalWrapper"},E=c(()=>t("span",null,"RSR",-1)),j=[E],R={key:5,class:"releaseBetaInternalWrapper"},A=c(()=>t("span",null,"SDK",-1)),L=[A],P=["id"],q=["id"],z={key:0,style:{"text-align":"right"},class:"releasedStr"},F={class:"iconFlex"},H=c(()=>t("a",{style:{cursor:"pointer"}},[t("i",{class:"downloadIcon fas fa-download"})],-1)),J=c(()=>t("h5",null,"Download",-1)),M={key:0},W=["href"],G=["href"],U=c(()=>t("h5",null,"Download (OTA)",-1)),K={key:0},X=["href"],Q=["href"],Y=c(()=>t("i",{class:"fas fa-box-open"},null,-1)),Z={class:"iconChild"},$={style:{cursor:"pointer"}},ee={key:0,class:"expandedView"},te={key:0,class:"custom-container releasedInfo"},ne={style:{display:"flex","flex-flow":"row wrap","align-content":"space-between"}},se={style:{"padding-left":"0","list-style-type":"none"}},ie={class:"releasedInfo"},le={key:1,class:"custom-container"},oe=c(()=>t("h5",null,"Devices",-1)),ae=c(()=>t("br",null,null,-1)),de={key:2,class:"custom-container"},re=c(()=>t("h5",null,"Jailbreaks",-1)),ce={class:"custom-container"},fe=["href"],we=c(()=>t("i",{style:{"font-size":"0.8em","padding-left":"2px"},class:"fas fa-arrow-right"},null,-1)),he={key:3,class:"custom-container"},ue=["href"],_e=c(()=>t("i",{style:{"margin-right":"8px"},class:"fab fa-twitter"},null,-1)),ge={key:1,style:{"border-bottom":"1px solid var(--c-border)",width:"calc(100% - 24px)",margin:"auto","margin-block":"-1px"}};function me(o,i,e,v,a,h){const u=S("grid"),f=S("router-link");return n(),s(w,null,[t("div",{class:"wrapper firmwareVersionTableElement",onClick:i[2]||(i[2]=l=>a.expanded=!a.expanded)},[t("div",{class:"firmwareAndReleasedStr",style:_({width:`calc(100% - ${(1+e.showSingleDownloads)*32}px)`})},[t("div",null,[e.options.showVersionString?(n(),s("span",B,r([e.fw.osStr,e.fw.version].join(" ")),1)):d("",!0),e.fw.build&&(a.expanded||this.fw.duplicateVersion||this.options.showBuildNumber)?(n(),s(w,{key:1},[C,t("code",I,r(this.fw.build),1)],64)):d("",!0),this.fw.preinstalled.some(l=>this.fw.devices.includes(l))&&(this.fw.filteredDownloads.length||this.fw.filteredOtas.length)?(n(),s("i",T)):d("",!0),V,e.showDots?(n(),s("div",{key:3,class:g([e.fw.internal?"internal":e.fw.beta||e.fw.rc?"beta":"release","releaseBetaInternalWrapper"])},[t("span",null,r(e.fw.internal?"internal":e.fw.rc?"rc":e.fw.beta?"beta":"release"),1)],2)):d("",!0),e.fw.rsr?(n(),s("div",N,j)):d("",!0),e.fw.sdk?(n(),s("div",R,L)):d("",!0),t("div",{class:"signingStatus",style:_({display:e.options.showSigningStatus?"initial":"none"})},[t("i",{id:`signing-status-${e.fw.osStr}-${e.fw.build}`,class:"fas"},null,8,P),t("span",{id:`signing-text-${e.fw.osStr}-${e.fw.build}`,class:"signingText"},null,8,q)],4)]),e.fw.releasedStr&&e.options.showReleasedString?(n(),s("div",z,r(e.fw.releasedStr),1)):d("",!0)],4),t("div",F,[e.showSingleDownloads?(n(),s(w,{key:0},[e.fw.filteredDownloads.length||e.fw.filteredOtas.length?(n(),s("div",{key:0,onClick:i[0]||(i[0]=l=>h.openDownloadDropdown()),class:"downloadIcon iconChild"},[H,t("div",{class:g(["downloadDropdown","custom-container",a.showDownloadDropdown?"active":""]),style:{cursor:"initial"}},[e.fw.filteredDownloads.length?(n(),s(w,{key:0},[J,t("ul",{style:_(`${e.fw.filteredDownloads.length==1?"padding-left: 0; list-style-type: none;":""}`)},[e.fw.filteredDownloads.length==1?(n(),s("li",M,[t("a",{href:e.fw.filteredDownloads[0].url},r(e.fw.filteredDownloads[0].label.slice(0,60))+r(e.fw.filteredDownloads[0].label.length>60?"...":""),9,W)])):(n(!0),s(w,{key:1},m(e.fw.filteredDownloads,l=>(n(),s("li",{key:l},[t("a",{href:l.url},r(l.deviceName),9,G)]))),128))],4)],64)):d("",!0),e.fw.filteredOtas.length?(n(),s(w,{key:1},[U,t("ul",{style:_(`${e.fw.filteredOtas.length==1?"padding-left: 0; list-style-type: none;":""}`)},[e.fw.filteredOtas.length==1?(n(),s("li",K,[t("a",{href:e.fw.filteredOtas[0].url},r(e.fw.filteredOtas[0].label.slice(0,60))+r(e.fw.filteredOtas[0].label.length>60?"...":""),9,X)])):(n(!0),s(w,{key:1},m(e.fw.filteredOtas,l=>(n(),s("li",{key:l},[t("a",{href:l.url},r(l.deviceName),9,Q)]))),128))],4)],64)):d("",!0)],2)])):e.fw.preinstalled.some(l=>e.fw.devices.includes(l))?(n(),s("div",{key:1,onClick:i[1]||(i[1]=l=>h.openDownloadDropdown()),class:"downloadIcon iconChild"},[Y,t("div",{class:g(["downloadDropdown","custom-container",a.showDownloadDropdown?"active":""]),style:{"padding-inline":"1.3em !important","font-weight":"500"}}," Preinstalled firmware ",2)])):d("",!0)],64)):d("",!0),t("div",Z,[t("a",$,[t("i",{class:g(["fas",a.expanded?"fa-chevron-down":"fa-chevron-right"])},null,2)])])])]),a.expanded?(n(),s("div",ee,[e.fw.releasedStr?(n(),s("div",te,[t("div",ne,[t("ul",se,[t("li",ie,"Released"+r(e.fw.releasedStr.includes(",")?" on":":")+" "+r(e.fw.releasedStr),1)])])])):d("",!0),a.fwData&&a.fwData.content?(n(),s("div",le,[oe,k(u,{content:a.fwData.content,sectionClass:a.fwData.class+" blue"||""},null,8,["content","sectionClass"]),ae])):d("",!0),e.fw.jailbreakArr.length?(n(),s("div",de,[re,t("ul",null,[(n(!0),s(w,null,m(e.fw.jailbreakArr,l=>(n(),s("li",{key:l},[k(f,{to:encodeURI(`/jailbreak/${l.replace(/ /g,"-")}.html`)},{default:b(()=>[y(r(l),1)]),_:2},1032,["to"])]))),128))])])):d("",!0),t("div",ce,[t("p",null,[t("a",{href:e.fw.url},[y("View more "),we],8,fe)])]),e.options.showTweetButton?(n(),s("div",he,[t("p",null,[t("a",{href:"https://twitter.com/intent/tweet?text="+encodeURI(`${[e.fw.osStr,e.fw.version].join(" ")}${e.fw.build?" ("+e.fw.build+")":""} has been released. https://appledb.dev${e.fw.url}`),target:"_blank"},[_e,y("Tweet ")],8,ue)])])):d("",!0)])):d("",!0),a.expanded?d("",!0):(n(),s("div",ge))],64)}var ve=D(p,[["render",me],["__scopeId","data-v-7ddc61e2"],["__file","firmwareVersionTableElement.vue"]]);export{ve as default};

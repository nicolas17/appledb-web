import{_ as k,r as _,o as r,c as n,d,t as p,m as v,E as u,b as o,F as f,n as F,M as y,a1 as B,L as D,D as b,$ as V,a0 as C}from"./app.ec0ba191.js";const I={props:{fmVersionArr:Array,deviceFilter:Array,mainList:Boolean,hasFirmwares:Object,hasFirmwareFilters:Boolean,devOptions:Object},data(){return{loadedFirmwares:[0,100],versionArr:[],versionHeaderStr:"Firmware Versions",optionsObjStr:{showBuildNumber:"Show build numbers",showVersionString:"Show version numbers",showReleasedString:"Show release dates",showSigningStatus:"Show signing status",showTweetButton:"Show Tweet button"},options:{showBuildNumber:!1,showVersionString:!0,showReleasedString:!0,showSigningStatus:!0,showRelease:!0,showBeta:!1,showInternal:!1,showTweetButton:!1,searchStr:"",showFilter:!1,filterDev:[]}}},computed:{optionsObj(){return["showBuildNumber","showVersionString","showReleasedString","showSigningStatus","showTweetButton"].map(l=>({label:this.optionsObjStr[l],model:l,display:!0}))}},methods:{filterVersions(){this.versionArr=this.fmVersionArr.filter(i=>(i.internal?this.options.showInternal:i.beta||i.rc?this.options.showBeta:this.options.showRelease)&&i.deviceFilterArr.some(w=>this.options.filterDev.includes(w))&&[i.osStr,i.version,i.build].join(" ").toLowerCase().includes(this.options.searchStr.toLowerCase())),this.$route.query;let l=[["release",this.options.showRelease],["beta",this.options.showBeta],["internal",this.options.showInternal]],s=l.filter(i=>i[1]).map(i=>i[0]);s.length==l.length&&(s=[]),this.deviceFilter.length!=this.options.filterDev.length&&s.push(...this.options.filterDev),s=s.length?{filter:s.join(";")}:{},this.$router.push({query:s})}},mounted(){let l={releaseBetaInternalFilter:!1,deviceFilter:!1},s=this.$route.query;s&&s.filter&&s.filter.length&&(s=s.filter.split(";"),s.some(i=>["release","beta","internal"].includes(i))&&(l.releaseBetaInternalFilter=!0,this.options.showRelease=s.includes("release"),this.options.showBeta=s.includes("beta"),this.options.showInternal=s.includes("internal")),s.some(i=>this.deviceFilter.map(w=>w.value).includes(i))&&(l.deviceFilter=!0,this.options.filterDev=s.filter(i=>this.deviceFilter.map(w=>w.value).includes(i)))),l.deviceFilter||(this.options.filterDev=this.deviceFilter.map(i=>i.value)),l.releaseBetaInternalFilter||(this.mainList?(this.options.showBeta=!0,this.options.showInternal=!0):this.hasFirmwareFilters||(this.options.showRelease=this.hasFirmwares.release,this.options.showBeta=this.hasFirmwares.beta,this.options.showInternal=this.hasFirmwares.internal)),this.filterVersions()}},h=l=>(V("data-v-20332197"),l=l(),C(),l),O={key:0,style:{"margin-bottom":".3em"}},A={key:1,class:"optionsWrapper"},R=h(()=>o("i",{class:"fas fa-circle release"},null,-1)),L=h(()=>o("i",{class:"fas fa-circle beta"},null,-1)),x=h(()=>o("i",{class:"fas fa-circle internal"},null,-1)),T=h(()=>o("div",{class:"separatorBefore"},null,-1)),W=h(()=>o("div",{class:"btn"},[o("i",{class:"fas fa-filter"}),d(" Filter ")],-1)),j={class:"hoverElement filterList"},N=["onClick"],q=h(()=>o("i",{class:"fas fa-check"},null,-1)),z=[q],E={class:"textWrapper"},H=h(()=>o("hr",{class:"show740"},null,-1)),K={class:"iconWrapper noBorder"},M={class:"textWrapper"},U=["onClick"],G=h(()=>o("div",{class:"iconWrapper"},[o("i",{class:"fas fa-check"})],-1)),J={class:"textWrapper"},P=h(()=>o("div",{class:"separatorAfter"},null,-1)),Q=h(()=>o("i",{class:"fas fa-sort"},null,-1)),X=h(()=>o("i",{class:"fas fa-search"},null,-1)),Y={key:2,class:"optionsWrapper filterListHorizontal"},Z=h(()=>o("i",{class:"fas fa-times",style:{"font-size":".8em","margin-right":"4px"}},null,-1)),$=h(()=>o("i",{class:"fas fa-check",style:{"font-size":".8em","margin-right":"4px"}},null,-1)),ee=h(()=>o("div",{style:{"border-right":"1px solid var(--c-border)","margin-inline":".5em","margin-block":".4em"}},null,-1)),se=["onClick"],ie={key:3,style:{display:"flex",padding:"1em","padding-top":"1.5em"}},te={style:{"margin-left":"auto"}};function oe(l,s,i,w,e,c){const g=_("firmwareVersionTableElement"),S=_("hiddenOptions");return r(),n(f,null,[i.mainList?v("",!0):(r(),n("h5",O,[d(p(e.versionHeaderStr)+" ",1),i.hasFirmwareFilters?v("",!0):(r(),n("i",{key:0,class:"fas fa-sort",style:{"margin-inline":"10px","font-size":"1em",cursor:"pointer"},onClick:s[0]||(s[0]=t=>e.versionArr.reverse())}))])),i.hasFirmwareFilters?(r(),n("div",A,[i.hasFirmwares.release?(r(),n("div",{key:0,class:u([e.options.showRelease?"active":"","release","btn","sbiFilter"]),onClick:s[1]||(s[1]=t=>{e.options.showRelease=!e.options.showRelease,c.filterVersions()})},[R,d(" Release ")],2)):v("",!0),i.hasFirmwares.beta?(r(),n("div",{key:1,class:u([e.options.showBeta?"active":"","beta","btn","sbiFilter"]),onClick:s[2]||(s[2]=t=>{e.options.showBeta=!e.options.showBeta,c.filterVersions()})},[L,d(" Beta ")],2)):v("",!0),i.hasFirmwares.internal?(r(),n("div",{key:2,class:u([e.options.showInternal?"active":"","internal","btn","sbiFilter"]),onClick:s[3]||(s[3]=t=>{e.options.showInternal=!e.options.showInternal,c.filterVersions()})},[x,d(" Internal ")],2)):v("",!0),T,o("div",{class:u(["hoverOn",i.deviceFilter.length<2?"show740":""])},[W,o("div",j,[(r(),n(f,null,F([{label:"Release",option:"showRelease"},{label:"Beta",option:"showBeta"},{label:"Internal",option:"showInternal"}],t=>o("div",{key:t,class:u(["filterListItem","show740",e.options[t.option]?"active":""]),onClick:a=>{e.options[t.option]=!e.options[t.option],c.filterVersions()}},[o("div",{class:u(["iconWrapper",t.option])},z,2),o("div",E,p(t.label),1)],10,N)),64)),i.deviceFilter.length>1?(r(),n(f,{key:0},[H,i.deviceFilter.length>4?(r(),n("div",{key:0,class:"filterListItem active",onClick:s[4]||(s[4]=t=>{e.options.filterDev.length==i.deviceFilter.length?e.options.filterDev=[]:e.options.filterDev=i.deviceFilter.map(a=>a.value),c.filterVersions()})},[o("div",K,[o("i",{class:u(`fas fa-border-${e.options.filterDev.length==i.deviceFilter.length?"none":"all"}`)},null,2)]),o("div",M,p(e.options.filterDev.length==i.deviceFilter.length?"Clear":"Select")+" all",1)])):v("",!0),(r(!0),n(f,null,F(i.deviceFilter,t=>(r(),n("div",{key:t,class:u(["filterListItem",e.options.filterDev.includes(t.value)?"active":""]),onClick:a=>{e.options.filterDev=e.options.filterDev.includes(t.value)?e.options.filterDev.filter(m=>m!=t.value):e.options.filterDev.concat(t.value),c.filterVersions()}},[G,o("div",J,p(t.label),1)],10,U))),128))],64)):v("",!0)])],2),P,o("div",{onClick:s[5]||(s[5]=t=>e.versionArr.reverse()),class:"btn"},[Q,d(" Sort ")]),o("div",{onClick:s[8]||(s[8]=t=>l.$refs.fwSearchBar.focus()),class:"btn searchBtn"},[X,d(),y(o("input",{class:"search","onUpdate:modelValue":s[6]||(s[6]=t=>e.options.searchStr=t),placeholder:"Search","aria-placeholder":"Search",onKeyup:s[7]||(s[7]=D(t=>c.filterVersions(),["enter"])),ref:"fwSearchBar"},null,544),[[B,e.options.searchStr]])])])):v("",!0),e.options.showFilter?(r(),n("div",Y,[i.deviceFilter.length>4?(r(),n(f,{key:0},[o("div",{class:"btn",onClick:s[9]||(s[9]=t=>{e.options.filterDev=[],c.filterVersions()})},[Z,d(" Clear all ")]),o("div",{class:"btn",onClick:s[10]||(s[10]=t=>{e.options.filterDev=i.deviceFilter.map(a=>a.value),c.filterVersions()})},[$,d(" Select all ")]),ee],64)):v("",!0),(r(!0),n(f,null,F(i.deviceFilter,t=>(r(),n("div",{key:t,class:u(["filterBtn","btn",e.options.filterDev.includes(t.value)?"active":""]),onClick:a=>{e.options.filterDev=e.options.filterDev.includes(t.value)?e.options.filterDev.filter(m=>m!=t.value):e.options.filterDev.concat(t.value),c.filterVersions()}},[o("span",null,p(t.label),1)],10,se))),128))])):v("",!0),(r(!0),n(f,null,F(e.versionArr.slice(e.loadedFirmwares[0],e.loadedFirmwares[1]),t=>(r(),b(g,{key:t,fw:t,options:e.options,showDots:e.options.showRelease+e.options.showBeta+e.options.showInternal>1&&i.hasFirmwareFilters,showSingleDownloads:e.versionArr.map(a=>a.filteredDownloads||a.filteredOtas).filter(a=>a.length).length>0||e.versionArr.map(a=>a.preinstalled.some(m=>a.devices.includes(m))).filter(a=>a).length>0},null,8,["fw","options","showDots","showSingleDownloads"]))),128)),e.loadedFirmwares[1]<e.versionArr.length?(r(),n("div",ie,[o("div",null,"Displaying "+p(e.loadedFirmwares[1])+" firmwares out of "+p(e.versionArr.length)+".",1),o("div",te,[o("a",{style:{cursor:"pointer"},onClick:s[11]||(s[11]=t=>e.loadedFirmwares[1]+=500)},"Load more")])])):v("",!0),i.devOptions.show?(r(),b(S,{key:4,options:e.options,optionsObj:c.optionsObj,devOptions:i.devOptions,deviceFilter:i.deviceFilter,filterVersions:c.filterVersions},null,8,["options","optionsObj","devOptions","deviceFilter","filterVersions"])):v("",!0)],64)}var ne=k(I,[["render",oe],["__scopeId","data-v-20332197"],["__file","firmwareVersionTableWrapper.vue"]]);export{ne as default};
